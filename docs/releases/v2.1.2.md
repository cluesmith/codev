# v2.1.2

Released: 2026-02-26

## Summary

Stability and quality release with targeted bugfixes across porch, Tower, dashboard, and developer tooling, plus comprehensive documentation updates for HN launch.

## New Features

- **Language-agnostic porch check overrides** (#550): Non-Node.js projects can now override or skip any porch check via `porch.checks` in `af-config.json`. Supports custom commands, working directories, and skip flags. Python, Rust, and Go projects no longer need to edit `protocol.json`.
- **Per-project agent time tracking** (#541): Analytics dashboard now tracks and displays agent time per project.

## Documentation

- **Comprehensive docs update** (#558): Updated FAQ, cheatsheet, CLI overview with ASPIR/BUGFIX/porch documentation. Replaced deprecated `af dash` references with `af workspace`. Fixed stale version references and remote access docs.
- **README for HN launch** (#556): Added Tour of CodevOS article link, updated VIBE vs SPIR section with R4 data, added production metrics.
- **Newsletter subscribe link** (#551): Added to README.

## Bug Fixes

- **Terminal scroll-to-top** (#560): Terminals no longer scroll to top when switching tabs. Root cause: xterm's `viewportY` resets to 0 when container is `display:none`. Fix: track scroll state externally via `term.onScroll()`.
- **Shell buttons regression** (#563): Fixed regression from scroll fix where shell buttons stopped working. Stale `scrollState.baseY` caused `safeFit()` to take the wrong code path.
- **Tower crash: H2 stream destroyed** (#565): Added `stream.destroyed` guards to all 4 unguarded `stream.respond()` calls in tunnel-client. Prevents crash when tunnel WebSocket disconnects during in-flight proxy requests.
- **TICK --amends required** (#562): `af spawn --protocol tick` now requires `--amends <spec-number>`. Previously, omitting it caused the builder to read the wrong spec file.
- **pr_exists check for merged PRs** (#568): Added `--state all` to `gh pr list` in all `pr_exists` porch checks. Previously, merged PRs were invisible to the check.
- **Dashboard E2E scheduled runs** (#566): Added `GH_TOKEN` to the Playwright test step in `dashboard-e2e.yml`. Scheduled workflows don't auto-propagate the token.
